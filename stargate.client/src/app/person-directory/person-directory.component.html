<div class="container mt-4">
  <h2>People in the Astronaut Career Tracking System</h2>

  <div class="row g-2 mt-4">
    <div class="col-auto">
      <input type="text" #inputRef class="form-control" placeholder="Enter a name" />
    </div>
    <div class="col-auto">
      <button (click)="filterTable(inputRef.value)" class="btn btn-primary">Search</button>
    </div>
  </div>


  <table class="table table-hover table-striped">
    <thead class="thead-dark">
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Current Rank</th>
        <th>Current Duty Title</th>
        <th>Career Start Date</th>
        <th>Career End Date</th>
        <th>More Info</th>
      </tr>
    </thead>
    <tbody>
      <!-- Loop through people array and display each person -->
      <tr *ngFor="let person of filteredPeople">
        <td>{{ person.personId }}</td>
        <td>{{ person.name }}</td>
        <td>{{ getValueForUI(person.currentRank) }}</td>
        <td>{{ getValueForUI(person.currentDutyTitle) }}</td>
        <td>{{ getValueForUI(person.careerStartDate | date:'shortDate') }}</td>
        <td>{{ getValueForUI(person.careerEndDate | date:'shortDate') }}</td>
        <td><button routerLink="{{'/people/' + person.personId}}" class="btn btn-secondary">Details</button></td>
      </tr>
    </tbody>
  </table>
</div>
